{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://cards/./components/createCards.js","webpack://cards/./difficulty-selection.js","webpack://cards/webpack/bootstrap","webpack://cards/webpack/runtime/define property getters","webpack://cards/webpack/runtime/hasOwnProperty shorthand","webpack://cards/webpack/runtime/make namespace object","webpack://cards/./main.js"],"sourcesContent":["export function gameMode(appEl) {\r\n  let pairNumber = null;\r\n\r\n  if (window.application.level === '1') {\r\n      pairNumber = 3;\r\n  } else if (window.application.level === '2') {\r\n      pairNumber = 6;\r\n  } else {\r\n      pairNumber = 9;\r\n  }\r\n\r\n  const cardRanks = [\r\n      'ace',\r\n      'king',\r\n      'queen',\r\n      'jack',\r\n      'ten',\r\n      'nine',\r\n      'eight',\r\n      'seven',\r\n      'six',\r\n  ];\r\n  const cardsNominals = ['spades', 'clubs', 'diamonds', 'hearts'];\r\n  const cardsUrls = [];\r\n\r\n  const getRundommNumber = (number) => {\r\n      return Math.floor(Math.random() * number);\r\n  };\r\n\r\n  for (let i = 0; i < pairNumber; i++) {\r\n    let indexRank = getRundommNumber(9); // получаем случайный ранг карты\r\n    let indexNominal = getRundommNumber(4); // получаем случайную масть карты\r\n\r\n    // проверка на дубликаты\r\n\r\n    let uniqueCard = false;\r\n    while (!uniqueCard) {\r\n      uniqueCard = !cardsUrls.find((elem) => {\r\n        return (\r\n            elem.rank === cardRanks[indexRank] && elem.nominal === cardsNominals[indexNominal] // возвращает элемента из массива, удовлетворяющий этому условию, инач undefined\r\n        );  // проверяем ранг и масть  элемента с полученными индексами с теми что уде есть в массиве\r\n      });\r\n      if (!uniqueCard) {\r\n        indexRank = getRundommNumber(9); // еще раз получаем случайный ранг карты\r\n        indexNominal = getRundommNumber(4);\r\n      }\r\n    }\r\n\r\n    let receivedCard = {\r\n      rank: cardRanks[indexRank],\r\n      nominal: cardsNominals[indexNominal],\r\n      cardId: getRundommNumber(100), // даем случаный айди карты, чтобы было удобнее соритровать\r\n    };\r\n\r\n    receivedCard.url = `./static/images/${receivedCard.nominal}-${receivedCard.rank}.png`;\r\n    cardsUrls.push(receivedCard);    \r\n    cardsUrls.push({...receivedCard,cardId:getRundommNumber(100)}); // копируем содержимое объекта receivedCard и имзеняем параметр cardId\r\n  }\r\n\r\n  cardsUrls.sort((a, b) => {\r\n      if (a.cardId > b.cardId) return 1;\r\n      else return -1;\r\n      //https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\r\n  });\r\n\r\n  console.log(cardsUrls);\r\n\r\n  let cardString = ``;\r\n\r\n  cardsUrls.forEach((item) => {\r\n    cardString += `<div class=\"gamebox__field-card flip\" data-rank=\"${item.rank}\" data-nominal=\"${item.nominal}\">\r\n    <img class=\"gamebox__field-card-face\" src=\"${item.url}\" />\r\n    <img class=\"gamebox__field-card-back\" src=\"./static/images/card_back.svg\" />\r\n    </div>`\r\n  })\r\n\r\n    const appHtml = `    <section class=\"gamebox center\">\r\n  <div class=\"gamebox-heading center\">\r\n    <div class=\"gamebox__timer\">\r\n      <div class=\"gamebox__timer-units\">min</div>\r\n      <div class=\"gamebox__timer-units gamebox__timer-units-sek\">sek</div>\r\n      <div class=\"gamebox__timer-digits\">00.00</div>\r\n    </div>\r\n    <button class=\"gamebox__restart-button\">Начать заново</button>\r\n  </div>\r\n  <div class=\"gamebox__field\">\r\n    ${cardString}\r\n    </div>\r\n    </section>`;\r\n\r\n    appEl.innerHTML = appHtml;\r\n\r\n  \r\n    let isItFlipped = false;\r\n    let firstCard, secondCard;\r\n    let blockField = false; //блокирование поля с картами в случае когда переворот карт еще не выполнен, а уже произошел клик на новой карте\r\n    const cards = document.querySelectorAll(\".gamebox__field-card\");\r\n    //Переворачиваем карту\r\n    console.log(cards);\r\n    \r\n    const timer = () => {\r\n      blockField = true;\r\n      setTimeout(() => {\r\n          cards.forEach((element) => {\r\n              element.classList.remove(\"flip\");\r\n              blockField = false;\r\n          });\r\n      }, 5000);\r\n  };\r\n  // необходима блокировка карт на момент просмотра, с последующей разблокировкой\r\n  timer();\r\n\r\n    // console.log(cards);\r\n    function flipCard() {\r\n      if (blockField) return;\r\n      if (this === firstCard) return;\r\n    \r\n      this.classList.add(\"flip\");\r\n    \r\n      if (!isItFlipped) {\r\n        isItFlipped = true;\r\n        firstCard = this;\r\n      } else {\r\n        isItFlipped = false;\r\n        secondCard = this;\r\n        // console.log(firstCard.dataset.rank);\r\n        // console.log(secondCard.dataset.rank);\r\n    \r\n        match();\r\n      }\r\n      // console.log('done');\r\n      \r\n    }\r\n    \r\n    // console.log(\"click\");\r\n    // console.log(this);\r\n    // console.log({ isItFlipped, firstCard });\r\n    \r\n    \r\n    // проверка на совпадение\r\n    \r\n    function match() {\r\n      setTimeout(() => {        // необходима задержка по выводу сообщения о победе/поражении, т.к. сравнение происходит в момент клика, а это очень быстро = bad UX/UI\r\n        if (firstCard.dataset.rank === secondCard.dataset.rank && firstCard.dataset.nominal === secondCard.dataset.nominal) {\r\n          preventClick();\r\n          alert('Вы выйграли')\r\n        } else {\r\n          alert('Вы проиграли')\r\n          turnBack();\r\n        }\r\n      }, 500);\r\n\r\n    }\r\n    // запрет на повторный клик по карте\r\n    \r\n    function preventClick() {\r\n      firstCard.removeEventListener('click', flipCard);\r\n      secondCard.removeEventListener('click', flipCard);\r\n      preventDoubleClick();\r\n    }\r\n    \r\n    // переворачивание карт обратно\r\n    \r\n    function turnBack() {\r\n      blockField = true;\r\n      setTimeout(() => {\r\n        firstCard.classList.remove('flip');\r\n        secondCard.classList.remove('flip');\r\n        blockField = false;\r\n        preventDoubleClick();\r\n      }, 500);\r\n    }\r\n    \r\n    function preventDoubleClick() {\r\n      isItFlipped = false;\r\n      blockField = false;\r\n      firstCard = null;\r\n      secondCard = null;\r\n    }\r\n    \r\n    cards.forEach((card) => {card.addEventListener(\"click\", flipCard);\r\n\r\n  });\r\n     \r\n}\r\n\r\n\r\n","import { gameMode } from \"./components/createCards.js\";\r\n\r\n\r\nwindow.application = {\r\n  level: null,\r\n};\r\n\r\nexport function gameDifficulty(appEl) {\r\n  const renderGameDifficulty = (appEl) => {\r\n    const appHtml = `<section class=\"game\">\r\n        <div class=\"game__menu\">          \r\n            <h2 class=\"game__menu-heading\">\r\n                Выбери <br/>\r\n                сложность\r\n              </h2>\r\n            <form class=\"difficulty\" id=\"difficulty-form\">\r\n                <div class=\"difficulty-box\">\r\n                    <input class=\"difficulty__type\" type=\"radio\" id=\"game1\" name=\"game\" value=\"1\" checked>\r\n                    <label for=\"game1\">1</label>\r\n            \r\n                    <input class=\"difficulty__type\" type=\"radio\" id=\"game2\" name=\"game\" value=\"2\">\r\n                    <label for=\"game2\">2</label>\r\n            \r\n                    <input class=\"difficulty__type\" type=\"radio\" id=\"game3\" name=\"game\" value=\"3\">\r\n                    <label for=\"game3\">3</label>\r\n                </div>\r\n\r\n                <button class=\"game__menu-button\" type=\"submit\">Старт</button> \r\n            </form>\r\n        </div>\r\n    </section>`;\r\n    appEl.innerHTML = appHtml;\r\n  };\r\n  renderGameDifficulty(appEl);\r\n\r\n  const formButton = document.querySelector(\"#difficulty-form\");\r\n  // https://ru.stackoverflow.com/questions/845045/%D0%A1%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D0%B5-submit-%D0%B8-%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA-%D1%81%D0%BE%D0%B1%D1%8B%D1%82%D0%B8%D1%8F\r\n  //   console.log(difficultyLevels);\r\n  //   console.log(startButton);\r\n  formButton.addEventListener(\"submit\", () => {\r\n    const difficultyLevels = document.querySelectorAll(\".difficulty__type\");\r\n    for (const difficultyLevel of difficultyLevels) {\r\n      if (difficultyLevel.checked) {\r\n        window.application.level = difficultyLevel.value;\r\n        // if (difficultyLevel.value === \"1\")\r\n        gameMode(appEl);\r\n\r\n      }\r\n\r\n    }\r\n  });\r\n\r\n}\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// import { doc } from \"prettier\";\r\nimport { gameDifficulty } from './difficulty-selection.js';\r\n\r\nconst appEl = document.getElementById('app');\r\n\r\n//Выбор уровня сложности\r\ngameDifficulty(appEl);\r\n"],"names":["gameMode","appEl","pairNumber","window","application","level","cardRanks","cardsNominals","cardsUrls","getRundommNumber","number","Math","floor","random","i","indexRank","indexNominal","uniqueCard","find","elem","rank","nominal","receivedCard","cardId","url","push","sort","a","b","console","log","cardString","forEach","item","appHtml","innerHTML","firstCard","secondCard","isItFlipped","blockField","cards","document","querySelectorAll","flipCard","this","classList","add","setTimeout","dataset","removeEventListener","preventDoubleClick","alert","remove","element","card","addEventListener","gameDifficulty","renderGameDifficulty","querySelector","difficultyLevels","difficultyLevel","checked","value","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","getElementById"],"sourceRoot":""}